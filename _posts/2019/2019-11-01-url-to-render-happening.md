---
layout: articles
title: url输入网址，到渲染页面，发生了什么
tags: web 网络 url 渲染 DNS TCP HTTP
---


当用户在浏览器的地址栏中输入一个URL（网址）并按下回车键后，以下是通常发生的步骤：

1. URL解析：浏览器会解析URL，将其分解成几个组成部分，包括协议（如HTTP、HTTPS）、域名（或IP地址）、端口号、路径和查询参数等。

2. DNS解析：浏览器将解析出的域名发送给DNS服务器，以获取对应的IP地址。DNS服务器将返回与域名对应的IP地址，供浏览器后续使用。

3. 建立TCP连接：浏览器使用获取到的IP地址和端口号，与服务器建立TCP连接。这是通过三次握手来确保客户端与服务器之间的可靠连接。

4. 发起HTTP请求：一旦TCP连接建立，浏览器会发送HTTP请求。请求包括请求方法（如GET、POST）、请求头（包含用户代理、接受的数据类型等信息）和请求体（对于POST请求，可能包含表单数据等）。

5. 服务器处理请求：服务器接收到浏览器发送的HTTP请求后，会根据请求的路径和参数，处理请求并生成相应的HTTP响应。

6. 响应返回：服务器将生成的HTTP响应发送回客户端（浏览器）。响应包括状态码（如200表示成功，404表示未找到等）、响应头（包含响应的数据类型、长度等信息）和响应体（包含实际的网页内容或其他资源）。

7. 渲染页面：一旦浏览器接收到响应，它会开始解析响应的内容。浏览器会根据响应头中指定的数据类型来确定如何处理响应体的内容。对于HTML网页，浏览器会解析HTML、CSS和JavaScript，并根据这些内容渲染出最终的页面。

8. 显示页面：一旦页面被渲染完成，浏览器会将其显示在用户的屏幕上。这包括文本、图像、视频和其他媒体元素的显示。

在整个过程中，浏览器还可能会执行其他操作，如处理重定向、处理Cookie、执行JavaScript代码等，以提供更丰富的网页体验。以上是一个简化的描述，实际的过程可能因浏览器的不同而略有差异。